<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>üîå Visualizador de Circuitos Booleanos</title>
    <link rel="stylesheet" href="style2.css" />
  </head>
  <body>
    <header>‚öôÔ∏è Ferramentas GLXV</header>
    <div class="layout">
      <nav class="sidebar">
        <ul>
          <li><a href="index.html">üî¢ Calculadora Bin√°ria</a></li>
          <li><a href="visualizador.html">üß™ Visualizador JS/CSS/HTML</a></li>
          <li><a href="circuito.html">üîå Visualizador de Circuitos</a></li>
        </ul>
      </nav>
      <main>
        <div class="container">
          <h2>üîå Visualizador de Circuitos Booleanos</h2>
          <div class="gate-controls">
            <button
              onclick="addGate('AND')"
              title="Porta AND: Sa√≠da 1 se todas as entradas forem 1"
            >
              AND
            </button>
            <button
              onclick="addGate('OR')"
              title="Porta OR: Sa√≠da 1 se pelo menos uma entrada for 1"
            >
              OR
            </button>
            <button
              onclick="addGate('NOT')"
              title="Porta NOT: Inverte a entrada"
            >
              NOT
            </button>
            <button onclick="addGate('NAND')" title="Porta NAND: N√ÉO (E)">
              NAND
            </button>
            <button onclick="addGate('NOR')" title="Porta NOR: N√ÉO (OU)">
              NOR
            </button>
            <button
              onclick="addGate('XOR')"
              title="Porta XOR: Sa√≠da 1 se o n√∫mero de entradas 1 for √≠mpar"
            >
              XOR
            </button>
            <button
              onclick="addGate('XNOR')"
              title="Porta XNOR: Sa√≠da 1 se o n√∫mero de entradas 1 for par"
            >
              XNOR
            </button>
            <button
              onclick="addGate('INPUT_0')"
              title="Entrada fixa com valor 0"
            >
              0
            </button>
            <button
              onclick="addGate('INPUT_1')"
              title="Entrada fixa com valor 1"
            >
              1
            </button>
            <button
              onclick="showInputPopup()"
              title="Editar valores das entradas (0, 1, X)"
            >
              Editar Entradas
            </button>
            <button
              onclick="startConnection()"
              title="Conectar portas com fios"
            >
              Conectar
            </button>
            <button onclick="clearCanvas()" title="Limpar todo o circuito">
              Limpar
            </button>
            <button onclick="saveCircuit()" title="Salvar o circuito como JSON">
              Salvar Circuito
            </button>
            <input
              type="file"
              id="loadCircuit"
              accept=".json"
              onchange="loadCircuit()"
              style="display: none"
            />
            <button
              onclick="document.getElementById('loadCircuit').click()"
              title="Carregar um circuito salvo"
            >
              Carregar Circuito
            </button>
            <button
              onclick="exportTruthTable()"
              title="Exportar tabela verdade como CSV"
            >
              Exportar Tabela
            </button>
            <button
              onclick="stepSimulation()"
              title="Simular propaga√ß√£o de sinais passo a passo"
            >
              Simular Passo
            </button>
            <div class="input-selector">
              <select id="inputLetter">
                <option value="">entrada</option>
                <option value="A">A</option>
                <option value="B">B</option>
                <option value="C">C</option>
                <option value="D">D</option>
                <option value="E">E</option>
                <option value="F">F</option>
                <option value="G">G</option>
                <option value="H">H</option>
                <option value="I">I</option>
                <option value="J">J</option>
                <option value="K">K</option>
                <option value="L">L</option>
                <option value="M">M</option>
                <option value="N">N</option>
                <option value="O">O</option>
                <option value="P">P</option>
                <option value="Q">Q</option>
                <option value="R">R</option>
                <option value="S">S</option>
                <option value="T">T</option>
                <option value="U">U</option>
                <option value="V">V</option>
                <option value="W">W</option>
                <option value="X">X</option>
                <option value="Y">Y</option>
                <option value="Z">Z</option>
              </select>
              <button
                onclick="addInput()"
                title="Adicionar uma entrada vari√°vel (A-Z)"
              >
                Adicionar Entrada
              </button>
            </div>
          </div>
          <div class="equation-container">
            <input
              id="equation"
              placeholder="(ex: A AND B OR NOT C)"
            />

            <div id="equationKeyboard" class="keyboard">
              <div>
                <button onclick="insertSymbol('A')">A</button>
                <button onclick="insertSymbol('B')">B</button>
                <button onclick="insertSymbol('C')">C</button>
                <button onclick="insertSymbol('D')">D</button>
                <button onclick="insertSymbol('E')">E</button>
                <button onclick="insertSymbol('F')">F</button>
                <button onclick="insertSymbol('G')">G</button>
                <button onclick="insertSymbol('H')">H</button>
                <button onclick="insertSymbol('I')">I</button>
                <button onclick="insertSymbol('J')">J</button>
                <button onclick="insertSymbol('K')">K</button>
                <button onclick="insertSymbol('L')">L</button>
                <button onclick="insertSymbol('M')">M</button>
                <button onclick="insertSymbol('N')">N</button>
                <button onclick="insertSymbol('O')">O</button>
                <button onclick="insertSymbol('P')">P</button>
                <button onclick="insertSymbol('Q')">Q</button>
                <button onclick="insertSymbol('R')">R</button>
                <button onclick="insertSymbol('S')">S</button>
                <button onclick="insertSymbol('T')">T</button>
                <button onclick="insertSymbol('U')">U</button>
                <button onclick="insertSymbol('V')">V</button>
                <button onclick="insertSymbol('W')">W</button>
                <button onclick="insertSymbol('X')">X</button>
                <button onclick="insertSymbol('Y')">Y</button>
                <button onclick="insertSymbol('Z')">Z</button>
              </div>
              <div>
                <button onclick="insertSymbol('AND')">AND</button>
                <button onclick="insertSymbol('OR')">OR</button>
                <button onclick="insertSymbol('NOT')">NOT</button>
                <button onclick="insertSymbol('NAND')">NAND</button>
                <button onclick="insertSymbol('NOR')">NOR</button>
                <button onclick="insertSymbol('XOR')">XOR</button>
                <button onclick="insertSymbol('XNOR')">XNOR</button>
              </div>
              <div>
                <button onclick="insertSymbol('(')">(</button>
                <button onclick="insertSymbol(')')">)</button>
                <button onclick="insertSymbol('+')">+</button>
                <button onclick="insertSymbol('*')">*</button>
                <button onclick="insertSymbol('!')">!</button>
                <button onclick="deleteLastSymbol()">‚å´</button>
                <button onclick="clearEquation()">üóëÔ∏è</button>
              </div>
            </div>

            <button
              onclick="generateCircuitFromEquation()"
              title="Gerar circuito a partir de uma equa√ß√£o"
            >
              Gerar Circuito
            </button>
          </div>
          <canvas id="canvas" width="800" height="400"></canvas>
          <div id="resultado" class="resultado">Sa√≠da: -</div>
          <div id="truth-table" class="resultado">
            <h3>Tabela Verdade</h3>
            <table id="truth-table-content"></table>
          </div>
          <div id="inputPopup" class="popup" style="display: none">
            <div class="popup-content">
              <h3>Editar Entradas</h3>
              <p>Insira 0 ou 1 para cada entrada.</p>
              <div id="inputFields"></div>
              <button onclick="applyInputValues()">Aplicar</button>
              <button onclick="closeInputPopup()">Fechar</button>
            </div>
          </div>
        </div>
      </main>
    </div>
    <script src="script2.js"></script>

    <button
      class="help-floating-button"
      onclick="document.getElementById('helpPopup').style.display='flex'"
    >
      ?
    </button>
    <div id="helpPopup" class="popup" style="display: none;">
  <div class="popup-content">
    <h3>üìò Ajuda - Equa√ß√µes Booleanas</h3>
    <p>Voc√™ pode montar equa√ß√µes com letras (A-Z), operadores l√≥gicos e par√™nteses. Use os bot√µes do teclado ou digite diretamente.</p>
    
    <h4>üß† Operadores Suportados</h4>
    <table class="help-table">
      <thead>
        <tr><th>Operador</th><th>Alternativas</th><th>Significado</th></tr>
      </thead>
      <tbody>
        <tr><td><code>!</code></td><td>¬¨, ~, NOT, ' </td><td>Nega√ß√£o</td></tr>
        <tr><td><code>*</code></td><td>¬∑, ‚ãÖ, ‚àß, AND</td><td>E l√≥gico (AND)</td></tr>
        <tr><td><code>+</code></td><td>|, ‚à®, OR</td><td>OU l√≥gico (OR)</td></tr>
        <tr><td><code>XOR</code></td><td>‚äï, ‚äñ, ‚äó</td><td>OU exclusivo</td></tr>
        <tr><td><code>XNOR</code></td><td>‚äô</td><td>OU exclusivo negado</td></tr>
        <tr><td><code>NAND</code></td><td>‚Äî</td><td>AND negado</td></tr>
        <tr><td><code>NOR</code></td><td>‚Äî</td><td>OR negado</td></tr>
        <tr><td><code>( )</code></td><td>‚Äî</td><td>Agrupamento de opera√ß√µes</td></tr>
      </tbody>
    </table>

    <h4>üß™ Exemplos de Equa√ß√µes</h4>
    <ul style="margin-top: 0.5rem; margin-left: 1rem;">
      <li><code>(A * B) + !C</code></li>
      <li><code>NOT (A AND B) OR C</code></li>
      <li><code>A XOR B</code></li>
      <li><code>(A AND (B OR C))</code></li>
      <li><code>(A + B) * !D</code></li>
    </ul>

    <button onclick="document.getElementById('helpPopup').style.display='none'">Fechar</button>
  </div>
</div>

      </div>
    </div>
  </body>
</html>
